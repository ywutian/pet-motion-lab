#!/usr/bin/env python3
"""
Pet Motion Lab v3.2 - 详细过渡动作描述
每个过渡动作都有具体、明确的限制，避免歧义
"""

# 详细的过渡动作描述（12个）
DETAILED_TRANSITION_ACTIONS = {
    # ========== 从sit出发 ==========
    "sit2walk": (
        "宠物从坐姿开始，四只脚同时着地，身体向前倾，"
        "臀部离开地面站起身（不能只用前脚或后脚），"
        "然后开始自然行走，前后脚交替移动，每次只有一只或两只对角脚离地，"
        "不能出现四脚同时离地或前后脚同时离地的跳跃动作"
    ),
    
    "sit2rest": (
        "宠物从坐姿开始，身体慢慢向前倾，"
        "前腿向前伸展，后腿向后伸展，"
        "肚子和胸部贴近地面，呈现趴卧姿势，"
        "头部抬起，眼睛保持睁开，耳朵竖起警觉状态"
    ),
    
    "sit2sleep": (
        "宠物从坐姿开始，身体慢慢向前或向侧面倾倒，"
        "四肢放松伸展，肚子贴近地面，"
        "头部放下贴近地面或前爪，眼睛闭上，"
        "嘴巴微微张开，有节奏地打呼噜，鼻子处有气体呼入呼出的动态效果"
    ),
    
    # ========== 从rest出发 ==========
    "rest2sleep": (
        "宠物保持趴卧姿势不变，肚子和胸部贴地，"
        "头部慢慢放下贴近地面或前爪，眼睛缓缓闭上，"
        "身体完全放松，嘴巴微微张开，"
        "有节奏地打呼噜，鼻子处有明显的气体呼入呼出动态效果"
    ),
    
    "rest2sit": (
        "宠物从趴卧姿势开始，前腿和后腿同时用力，"
        "保持四只脚着地，身体向上撑起（不能只用前脚撑起上半身），"
        "然后后腿弯曲，臀部下沉，"
        "最终呈现坐姿，前腿直立，后腿弯曲坐在地上"
    ),
    
    "rest2walk": (
        "宠物从趴卧姿势开始，前腿和后腿同时用力站起身，"
        "保持四只脚着地（不能只用前脚撑起），"
        "站起后立即开始行走，前后脚交替移动，"
        "每次只有一只或两只对角脚离地，不能出现跳跃动作"
    ),
    
    # ========== 从walk出发 ==========
    "walk2sit": (
        "宠物正在四脚着地自然行走，前后脚交替移动，"
        "逐渐减速停下来，四只脚站稳在地面，"
        "然后后腿慢慢弯曲，臀部下沉坐到地面，"
        "前腿保持直立，最终呈现标准坐姿"
    ),
    
    "walk2rest": (
        "宠物正在四脚着地自然行走，前后脚交替移动，"
        "逐渐减速停下来，四只脚站稳，"
        "然后身体向前倾，前腿向前伸展，后腿向后伸展，"
        "肚子和胸部贴近地面，呈现趴卧姿势，头部抬起，眼睛睁开"
    ),
    
    "walk2sleep": (
        "宠物正在四脚着地自然行走，前后脚交替移动，"
        "逐渐减速停下来，身体慢慢趴下，"
        "四肢放松伸展，肚子贴地，头部放下，"
        "眼睛闭上，嘴巴微微张开，打呼噜，鼻子处有气体呼入呼出"
    ),
    
    # ========== 从sleep出发 ==========
    "sleep2sit": (
        "宠物从睡觉状态开始，闭着眼睛打呼噜，"
        "慢慢睁开眼睛，停止打呼噜，"
        "前腿和后腿同时用力，保持四只脚着地撑起身体（不能只用前脚），"
        "然后后腿弯曲坐下，前腿直立，呈现坐姿"
    ),
    
    "sleep2rest": (
        "宠物从睡觉状态开始，身体趴着，眼睛闭着，在打呼噜，"
        "慢慢睁开眼睛，停止打呼噜，"
        "头部抬起，耳朵竖起，"
        "保持趴卧姿势但呈现警觉状态，眼睛睁开环顾四周"
    ),
    
    "sleep2walk": (
        "宠物从睡觉状态开始，闭眼打呼噜，"
        "慢慢睁开眼睛，停止打呼噜，"
        "前腿和后腿同时用力，四只脚着地站起身（不能只用前脚），"
        "然后开始自然行走，前后脚交替移动，不能出现跳跃或四脚同时离地"
    ),
}


# 简化版（如果详细版太长）
CONCISE_TRANSITION_ACTIONS = {
    "sit2walk": "从坐姿四脚着地站起，自然行走，前后脚交替，不跳跃",
    "sit2rest": "从坐姿向前趴下，肚子贴地，头抬起，眼睛睁开",
    "sit2sleep": "从坐姿趴下，头放下，闭眼，趴着打呼噜",
    "rest2sleep": "保持趴姿，头放下，闭眼，开始打呼噜",
    "rest2sit": "从趴姿四脚着地撑起身体，后腿弯曲坐下",
    "rest2walk": "从趴姿四脚着地站起，自然行走，前后脚交替",
    "walk2sit": "行走中减速停下，后腿弯曲坐下",
    "walk2rest": "行走中减速停下，向前趴下，头抬起",
    "walk2sleep": "行走中减速停下，趴下，闭眼打呼噜",
    "sleep2sit": "睁眼，四脚着地站起，后腿弯曲坐下",
    "sleep2rest": "睁眼，保持趴姿，头抬起警觉",
    "sleep2walk": "睁眼，四脚着地站起，自然行走，前后脚交替",
}


def get_detailed_transition_action(transition: str, use_detailed: bool = True) -> str:
    """
    获取过渡动作描述
    
    Args:
        transition: 过渡名称
        use_detailed: 是否使用详细版（默认True）
    
    Returns:
        动作描述
    """
    if use_detailed:
        return DETAILED_TRANSITION_ACTIONS.get(transition, "宠物进行动作过渡")
    else:
        return CONCISE_TRANSITION_ACTIONS.get(transition, "宠物进行动作过渡")


if __name__ == "__main__":
    print("=" * 80)
    print("  详细过渡动作描述 v3.2")
    print("=" * 80)
    
    print("\n【对比示例：rest2sit】\n")
    
    print("原版（有歧义）:")
    print("  '宠物起立，然后坐下'")
    print("  ❌ 问题：'起立'可能导致前脚站立\n")
    
    print("简化版:")
    print(f"  '{CONCISE_TRANSITION_ACTIONS['rest2sit']}'")
    print("  ✅ 明确但简洁\n")
    
    print("详细版:")
    print(f"  '{DETAILED_TRANSITION_ACTIONS['rest2sit']}'")
    print("  ✅ 非常明确，不留歧义\n")
    
    print("\n【所有过渡动作 - 详细版】\n")
    for i, (name, desc) in enumerate(DETAILED_TRANSITION_ACTIONS.items(), 1):
        print(f"{i:2d}. {name}:")
        print(f"    {desc}\n")

